<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Raster</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.12/p5.js"></script>
    </head>
    <body>
        <script>
            // http://gameinternals.com/post/2072558330/understanding-pac-man-ghost-behavior
            // https://jsfiddle.net/annoyingmouse/p6q6w5xL/
            const scale = 5;
            const x = 100;
            const y = 100;
            let frame = true;
            let direction = "UP";

            function setup() {
                createCanvas(600, 400);
                frameRate(2);
            }

            function draw() {
                background("#030002");
                noStroke();
                fill("#ffb851");
                let row = y - (7 * scale);
                [
                    [-2, 4],
                    [-4, 8],
                    [-5, 10],
                    [-6, 12],
                    [-6, 12],
                    [-6, 12],
                    [-7, 14],
                    [-7, 14],
                    [-7, 14],
                    [-7, 14],
                    [-7, 14],
                    [-7, 14],
                    [-7, 14]
                ].forEach((p) => {
                    rect(x + (p[0] * scale), row, p[1] * scale, scale);
                    row += scale; // 2
                });
                if (frame) {
                    [
                        [-7, 2],
                        [-4, 3],
                        [1, 3],
                        [5, 2]
                    ].forEach((p) => rect(x + (p[0] * scale), row, p[1] * scale, scale))
                } else {
                    [
                        [-7, 4],
                        [-2, 4],
                        [3, 4]
                    ].forEach((p) => rect(x + (p[0] * scale), row, p[1] * scale, scale))
                }
                row += scale; // 14
                if (frame) {
                    [
                        [-7, 1],
                        [-3, 2],
                        [1, 2],
                        [6, 1]
                    ].forEach((p) => rect(x + (p[0] * scale), row, p[1] * scale, scale))
                } else {
                    [
                        [-7, 3],
                        [-1, 2],
                        [4, 3]
                    ].forEach((p) => rect(x + (p[0] * scale), row, p[1] * scale, scale))
                }
                if (direction === "RIGHT") {
                    fill("#dedeff"); // Whites
                    row = y - (4 * scale); // 4
                    [
                        [-3, 2, 3, 2],
                        [-4, 4, 2, 4],
                        [-4, 4, 2, 4],
                        [-4, 4, 2, 4],
                        [-3, 2, 3, 2]
                    ].forEach((p) => {
                        rect(x + (p[0] * scale), row, p[1] * scale, scale);
                        rect(x + (p[2] * scale), row, p[3] * scale, scale);
                        row += scale;
                    });
                    fill("#2121ff"); // Pupils
                    row = y - (2 * scale); // 5
                    rect(x - (2 * scale), row, 2 * scale, 2 * scale);
                    rect(x + (4 * scale), row, 2 * scale, 2 * scale);
                }
                if (direction === "LEFT") {
                    fill("#dedeff"); // Whites
                    row = y - (4 * scale);
                    [
                        [-5, 2, 1, 2],
                        [-6, 4, 0, 4],
                        [-6, 4, 0, 4],
                        [-6, 4, 0, 4],
                        [-5, 2, 1, 2]
                    ].forEach((p) => {
                        rect(x + (p[0] * scale), row, p[1] * scale, scale);
                        rect(x + (p[2] * scale), row, p[3] * scale, scale);
                        row += scale;
                    });
                    fill("#2121ff"); // Pupils
                    row = y - (2 * scale); // 5
                    rect(x - (6 * scale), row, 2 * scale, 2 * scale);
                    rect(x, row, 2 * scale, 2 * scale);
                }
                if (direction === "DOWN") {
                    fill("#dedeff"); // Whites
                    row = y - (3 * scale); // 4
                    [
                        [-4, 2, 2, 2],
                        [-5, 4, 1, 4],
                        [-5, 4, 1, 4],
                        [-5, 4, 1, 4],
                        [-4, 2, 2, 2]
                    ].forEach((p) => {
                        rect(x + (p[0] * scale), row, p[1] * scale, scale);
                        rect(x + (p[2] * scale), row, p[3] * scale, scale);
                        row += scale;
                    });
                    fill("#2121ff"); // Pupils
                    row = y; // 5
                    rect(x - (4 * scale), row, 2 * scale, 2 * scale);
                    rect(x + (2 * scale), row, 2 * scale, 2 * scale);
                }
                if (direction === "UP") {
                    fill("#dedeff"); // Whites
                    row = y - (6 * scale); // 4
                    [
                        [-4, 2, 2, 2],
                        [-5, 4, 1, 4],
                        [-5, 4, 1, 4],
                        [-5, 4, 1, 4],
                        [-4, 2, 2, 2]
                    ].forEach((p) => {
                        rect(x + (p[0] * scale), row, p[1] * scale, scale);
                        rect(x + (p[2] * scale), row, p[3] * scale, scale);
                        row += scale;
                    });
                    fill("#2121ff"); // Pupils
                    row = y - (6 * scale); // 5
                    rect(x - (4 * scale), row, 2 * scale, 2 * scale);
                    rect(x + (2 * scale), row, 2 * scale, 2 * scale);
                }
                frame = !frame;
            }
        </script>
    </body>
</html>