<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>&lt;wc-pie-chart&gt;</title>
  <link rel="stylesheet" href="https://unpkg.com/sakura.css/css/sakura.css">
  <script src="https://unpkg.com/wc-pie-chart@1.0.9/dist/wc-pie-chart.min.js"></script>
</head>

<body>
<h1>&lt;wc-pie-chart&gt;</h1>
<h2>Installation</h2>
<pre style="color:#000000;background:#ffffff;"><span style="color:#a65700; ">&lt;</span><span style="color:#800000; font-weight:bold; ">script</span><span style="color:#274796; "> </span><span style="color:#074726; ">type</span><span style="color:#808030; ">=</span><span style="color:#0000e6; ">"module"</span><span style="color:#274796; "> </span><span style="color:#074726; ">src</span><span style="color:#808030; ">=</span><span style="color:#0000e6; ">"https://unpkg.com/wc-pie-chart/wc-pie-chart.js"</span><span style="color:#a65700; ">&gt;</span><span style="color:#a65700; ">&lt;/</span><span style="color:#800000; font-weight:bold; ">script</span><span style="color:#a65700; ">&gt;</span>
</pre>
<p>Alternatively</p>
<pre style="color:#000000;background:#ffffff;"><span style="color:#a65700; ">&lt;</span><span style="color:#800000; font-weight:bold; ">script</span><span style="color:#274796; "> </span><span style="color:#074726; ">type</span><span style="color:#808030; ">=</span><span style="color:#0000e6; ">"module"</span><span style="color:#274796; "> </span><span style="color:#074726; ">src</span><span style="color:#808030; ">=</span><span style="color:#0000e6; ">"https://cdn.skypack.dev/wc-pie-chart/wc-pie-chart.js"</span><span style="color:#a65700; ">&gt;</span><span style="color:#a65700; ">&lt;/</span><span style="color:#800000; font-weight:bold; ">script</span><span style="color:#a65700; ">&gt;</span>
</pre>
<p>After the next release you can use it minified by adding using this instead:</p>
<pre style="color:#000000;background:#ffffff;"><span style="color:#a65700; ">&lt;</span><span style="color:#800000; font-weight:bold; ">script</span><span style="color:#274796; "> </span><span style="color:#074726; ">type</span><span style="color:#808030; ">=</span><span style="color:#0000e6; ">"module"</span><span style="color:#274796; "> </span><span style="color:#074726; ">src</span><span style="color:#808030; ">=</span><span style="color:#0000e6; ">"[WHATEVER CDN]/wc-pie-chart/dist/wc-pie-chart.min.js"</span><span style="color:#a65700; ">&gt;</span><span style="color:#a65700; ">&lt;/</span><span style="color:#800000; font-weight:bold; ">script</span><span style="color:#a65700; ">&gt;</span>
</pre>
<p>Please remember to change <code>[WHATEVER CDN]</code> to your favourite <abbr title="Content Delivery Network">CDN</abbr></p>
<h2>Examples</h2>
<h3>Basic Example (my original colours)</h3>
<wc-pie-chart duration="3000">
</wc-pie-chart>
<h3>This has its attributes changed via JS in an external file.</h3>
<p>In one case we increase the thickness to <code>0.5</code> to create a pie-chart, rather than a donut-chart.</p>
<wc-pie-chart id="existing" width="300" delay="200" thickness="0.5" duration="10000">
</wc-pie-chart>
<h3>Another basic example</h3>
<wc-pie-chart width="500">
</wc-pie-chart>
<h3>This is an empty div which is populated with this script:</h3>
<pre style="color:#000000;background:#ffffff;"><span style="color:#800000; font-weight:bold; ">const</span> <span style="color:#800000; font-weight:bold; ">test</span> <span style="color:#808030; ">=</span> document<span style="color:#808030; ">.</span>getElementById<span style="color:#808030; ">(</span><span style="color:#800000; ">'</span><span style="color:#0000e6; ">test</span><span style="color:#800000; ">'</span><span style="color:#808030; ">)</span>
<span style="color:#800000; font-weight:bold; ">const</span> segments <span style="color:#808030; ">=</span> <span style="color:#797997; ">Math</span><span style="color:#808030; ">.</span><span style="color:#800000; font-weight:bold; ">floor</span><span style="color:#808030; ">(</span><span style="color:#797997; ">Math</span><span style="color:#808030; ">.</span><span style="color:#800000; font-weight:bold; ">random</span><span style="color:#808030; ">(</span><span style="color:#808030; ">)</span> <span style="color:#808030; ">*</span> <span style="color:#008c00; ">10</span><span style="color:#808030; ">)</span> <span style="color:#808030; ">+</span> <span style="color:#008c00; ">5</span><span style="color:#800080; ">;</span>
<span style="color:#800000; font-weight:bold; ">const</span> newPieChart <span style="color:#808030; ">=</span> document<span style="color:#808030; ">.</span>createElement<span style="color:#808030; ">(</span><span style="color:#800000; ">'</span><span style="color:#0000e6; ">wc-pie-chart</span><span style="color:#800000; ">'</span><span style="color:#808030; ">)</span>
newPieChart<span style="color:#808030; ">.</span>setAttribute<span style="color:#808030; ">(</span><span style="color:#800000; ">'</span><span style="color:#0000e6; ">width</span><span style="color:#800000; ">'</span><span style="color:#808030; ">,</span> <span style="color:#800000; ">'</span><span style="color:#0000e6; ">500</span><span style="color:#800000; ">'</span><span style="color:#808030; ">)</span>
<span style="color:#800000; font-weight:bold; ">for</span><span style="color:#808030; ">(</span><span style="color:#800000; font-weight:bold; ">let</span> i <span style="color:#808030; ">=</span> <span style="color:#008c00; ">0</span><span style="color:#800080; ">;</span> i <span style="color:#808030; ">&lt;</span> segments<span style="color:#800080; ">;</span> i<span style="color:#808030; ">++</span><span style="color:#808030; ">)</span><span style="color:#800080; ">{</span>
  <span style="color:#800000; font-weight:bold; ">const</span> newPieSlice <span style="color:#808030; ">=</span> document<span style="color:#808030; ">.</span>createElement<span style="color:#808030; ">(</span><span style="color:#800000; ">'</span><span style="color:#0000e6; ">wc-pie-slice</span><span style="color:#800000; ">'</span><span style="color:#808030; ">)</span>
  newPieSlice<span style="color:#808030; ">.</span>setAttribute<span style="color:#808030; ">(</span><span style="color:#800000; ">'</span><span style="color:#0000e6; ">value</span><span style="color:#800000; ">'</span><span style="color:#808030; ">,</span> <span style="color:#800000; ">`</span><span style="color:#800000; ">${</span><span style="color:#797997; ">Math</span><span style="color:#808030; ">.</span><span style="color:#800000; font-weight:bold; ">floor</span><span style="color:#808030; ">(</span><span style="color:#797997; ">Math</span><span style="color:#808030; ">.</span><span style="color:#800000; font-weight:bold; ">random</span><span style="color:#808030; ">(</span><span style="color:#808030; ">)</span><span style="color:#797997; "> </span><span style="color:#808030; ">*</span><span style="color:#797997; "> </span><span style="color:#008c00; ">100</span><span style="color:#808030; ">)</span><span style="color:#797997; "> </span><span style="color:#808030; ">+</span><span style="color:#797997; "> </span><span style="color:#008c00; ">1</span><span style="color:#800000; ">}</span><span style="color:#800000; ">`</span><span style="color:#808030; ">)</span>
  newPieChart<span style="color:#808030; ">.</span>append<span style="color:#808030; ">(</span>newPieSlice<span style="color:#808030; ">)</span>
<span style="color:#800080; ">}</span>
<span style="color:#800000; font-weight:bold; ">test</span><span style="color:#808030; ">.</span>append<span style="color:#808030; ">(</span>newPieChart<span style="color:#808030; ">)</span>
</pre>
<p>If you refresh the page, it should change.</p>
<div id="test"><wc-pie-chart width="500"></wc-pie-chart></div>
<script>
  (()=>{
    setTimeout(() => {
      const test = document.getElementById('test')
      const segments = Math.floor(Math.random() * 10) + 5;
      const newPieChart = document.createElement('wc-pie-chart')
      newPieChart.setAttribute('width', '500')
      for(let i = 0; i < segments; i++){
        const newPieSlice = document.createElement('wc-pie-slice')
        newPieSlice.setAttribute('value', `${Math.floor(Math.random() * 100) + 1}`)
        newPieChart.append(newPieSlice)
      }
      test.append(newPieChart)

    }, 1000)
    const existing = document.getElementById('existing')
    setTimeout(() => {
      existing.setAttribute('width', '200')
      existing.removeAttribute('thickness')
    }, 2500)
    setTimeout(() => {
      existing.setAttribute('width', '250')
      existing.setAttribute('delay', '200')
    }, 5000)
    setTimeout(() => {
      existing.setAttribute('width', '300')
      existing.setAttribute('thickness', '0.5')
      existing.setAttribute('duration', '10000')

    }, 7200)
    setTimeout(() => {
      existing.removeAttribute('width')
      existing.removeAttribute('thickness')
      existing.removeAttribute('duration')
      existing.removeAttribute('delay')
    }, 17400)

  })()
</script>
</body>
</html>